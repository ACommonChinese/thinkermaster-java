# 初始化块

初始化块是对构造器的补充, 初始化块总是在构造器执行之前执行. 一个类里可以有多个初始化块.
初始化块分为普通初始化块和静态(static)初始化块这两种类型, 相同类型的初始化块之间有顺序: 前面定义的初始化块先执行, 后面定义的初始化块后执行. 

语法: 

```java
[static] { // 被static修饰就是静态初始化块, 没有static就是普通初始化块
	 ...
}
```

先后执行顺序:

```java
public class Person {
    static {
        System.out.println("static 1");
    }
    {
        System.out.println("1");
    }
    {
        System.out.println("2");
    }
    {
        System.out.println("3");
    }
    static {
        System.out.println("static 2");
    }

    public Person() {
        System.out.println("constructor");
    }
}
```

程序打印:

```
static 1
static 2
1
2
3
constructor
```

即执行优先级是: 静态代码块 > 普通代码块 > 构造函数, 且静态代码块如果有多个, 顺序执行, 普通代码块如果有多个, 也是顺序执行.

由于初始化块是一段固定执行的代码,它不能接收任何参数. 因此初始化块对同一个类的所有对象所进行的初始化处理完全相同. 基于这个原因, 可以发现初始化块的使用场景: 如果有一段初始化处理代码对所有对象完全相同,且无须接收任何参数, 就可以把这段初始化处理代码提取到初始化块中.

**注:**
1. 静态初始化块是类相关的, 不可初始化成员变量
2. 在继承层次结构中总是先执行父类初始化块, 再执行当前类初始化块
3. 成员变量的声明时直接赋值和普通初始化块是一个级别, 因此声明的顺序决定了执行的顺序. 同样, 静态成员变量的声明时直接赋值和静态初始化块也是同一个级别, 也是声明顺序决定执行顺序.


